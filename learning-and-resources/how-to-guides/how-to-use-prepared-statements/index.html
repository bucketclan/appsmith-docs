<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-learning-and-resources/how-to-guides/how-to-use-prepared-statements">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">How to Use Prepared Statements? | Appsmith</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://bucketclan.github.io/learning-and-resources/how-to-guides/how-to-use-prepared-statements"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="How to Use Prepared Statements? | Appsmith"><meta data-rh="true" name="description" content="A Prepared Statement is a feature provided by Database Management Systems (DBMS) to execute the same statement with dynamic data bindings repeatedly and efficiently. It uses a pre-compiled SQL code without data to speed up the execution."><meta data-rh="true" property="og:description" content="A Prepared Statement is a feature provided by Database Management Systems (DBMS) to execute the same statement with dynamic data bindings repeatedly and efficiently. It uses a pre-compiled SQL code without data to speed up the execution."><link data-rh="true" rel="icon" href="/img/Appsmith-Logo.png"><link data-rh="true" rel="canonical" href="https://bucketclan.github.io/learning-and-resources/how-to-guides/how-to-use-prepared-statements"><link data-rh="true" rel="alternate" href="https://bucketclan.github.io/learning-and-resources/how-to-guides/how-to-use-prepared-statements" hreflang="en"><link data-rh="true" rel="alternate" href="https://bucketclan.github.io/learning-and-resources/how-to-guides/how-to-use-prepared-statements" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://AZ2Z9CJSJ0-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Appsmith" href="/opensearch.xml">
<script src="/scripts/intercomSettings.js"></script><link rel="stylesheet" href="/assets/css/styles.1c145369.css">
<link rel="preload" href="/assets/js/runtime~main.546b6344.js" as="script">
<link rel="preload" href="/assets/js/main.b49485b8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/appsmith_logo_white.png" alt="Appsmith Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/appsmith_logo_white.png" alt="Appsmith Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a href="https://www.appsmith.com/blog-categories/tutorial" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Tutorials<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://community.appsmith.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/appsmithorg/appsmith" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://app.appsmith.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Get Appsmith<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/">Getting Started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/getting-started/start-building">Build Your First App</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/getting-started/setup">Self Hosting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Self Hosting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/getting-started/faq">FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/core-concepts/connecting-to-data-sources/">Core Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/core-concepts/connecting-to-data-sources/">Connecting to Datasource</a><button aria-label="Toggle the collapsible sidebar category &#x27;Connecting to Datasource&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/core-concepts/building-ui/">Building UI</a><button aria-label="Toggle the collapsible sidebar category &#x27;Building UI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/core-concepts/data-access-and-binding/">Data Access and Binding</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data Access and Binding&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/core-concepts/writing-code/">Writing Code</a><button aria-label="Toggle the collapsible sidebar category &#x27;Writing Code&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/reference/widgets/">Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/reference/widgets/">Widgets</a><button aria-label="Toggle the collapsible sidebar category &#x27;Widgets&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/reference/datasources/">Datasources</a><button aria-label="Toggle the collapsible sidebar category &#x27;Datasources&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/reference/appsmith-framework/">Appsmith Framework</a><button aria-label="Toggle the collapsible sidebar category &#x27;Appsmith Framework&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/advanced-concepts/how-to-implement-custom-authentication-on-appsmith">Advanced Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/advanced-concepts/how-to-implement-custom-authentication-on-appsmith">Custom Authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/advanced-concepts/sharing-data-across-pages">Share Data Across Pages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/advanced-concepts/embed-appsmith-into-existing-application">Embed Apps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/advanced-concepts/access-control">Access Control</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/advanced-concepts/version-control-with-git/">Version Control With Git</a><button aria-label="Toggle the collapsible sidebar category &#x27;Version Control With Git&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/advanced-concepts/more/">More</a><button aria-label="Toggle the collapsible sidebar category &#x27;More&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/learning-and-resources/tutorials/">Learning &amp; Resources</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/learning-and-resources/tutorials/">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/learning-and-resources/how-to-guides/">How To Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;How To Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning-and-resources/how-to-guides/how-to-use-js-object-within-appsmith">How to Use JS Object Within Appsmith?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning-and-resources/how-to-guides/writing-javascript-in-appsmith">Writing JavaScript in Appsmith</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning-and-resources/how-to-guides/how-to-use-filters-on-appsmith-table-widget">How to use filters on Appsmith table widget</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning-and-resources/how-to-guides/build-auto-generated-forms-using-list-widget">How to build auto-generated forms using List widget</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning-and-resources/how-to-guides/how-to-upload-to-s3">Upload / Download Files from S3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning-and-resources/how-to-guides/how-to-use-the-camera-image-widget-to-upload-download-images">How to Use the Camera/Image Widget to Upload/Download Images?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning-and-resources/how-to-guides/how-to-work-with-google-sheets-on-appsmith">How to work with Google Sheets on Appsmith</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning-and-resources/how-to-guides/oauth2-authorization-for-google-sheets">OAuth2 Authorization for Google Sheets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning-and-resources/how-to-guides/aws-whitelist">Whitelist Appsmith on AWS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning-and-resources/how-to-guides/returning-data-from-a-stored-procedure">Returning data from a stored procedure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning-and-resources/how-to-guides/use-mssql-as-data-source">How to use MS SQL as a data source on Appsmith</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning-and-resources/how-to-guides/use-notion-as-database-on-appsmith">How to Use Notion as a Database on Appsmith</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning-and-resources/how-to-guides/how-to-use-redis-as-a-data-source-on-apppsmith">How to use Redis as a Datasource on Appsmith</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning-and-resources/how-to-guides/use-redshift-as-data-source-on-appsmith">How to Use Redshift as a Datasource on Appsmith</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning-and-resources/how-to-guides/how-to-use-elasticsearch-as-a-data-source-on-appsmith">How to Use Elasticsearch as a Datasource on Appsmith</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/learning-and-resources/how-to-guides/how-to-use-prepared-statements">How to Use Prepared Statements?</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/learning-and-resources/sample-apps">Sample Apps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/learning-and-resources/integrations">Integrations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://www.appsmith.com/templates" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Templates<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/help-and-support/troubleshooting-guide/">Troubleshooting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Troubleshooting&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/help-and-support/troubleshooting-guide/action-errors/">Action Errors</a><button aria-label="Toggle the collapsible sidebar category &#x27;Action Errors&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/help-and-support/troubleshooting-guide/js-errors">JS Errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/help-and-support/troubleshooting-guide/deployment-errors">Deployment Errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/help-and-support/troubleshooting-guide/application-errors">Application Errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/help-and-support/troubleshooting-guide/widget-errors">Widget Errors</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/product/security">Product</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/product/security">Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/product/telemetry">Telemetry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://github.com/appsmithorg/appsmith/releases" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Release Notes<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://github.com/appsmithorg/appsmith/blob/release/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Contribute<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Learning &amp; Resources</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/learning-and-resources/how-to-guides/"><span itemprop="name">How To Guides</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">How to Use Prepared Statements?</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>How to Use Prepared Statements?</h1><p>A <a href="https://en.wikipedia.org/wiki/Prepared_statement" target="_blank" rel="noopener noreferrer">Prepared Statement</a> is a feature provided by Database Management Systems (DBMS) to execute the same statement with dynamic data bindings repeatedly and efficiently. It uses a pre-compiled SQL code without data to speed up the execution.</p><p>Let&#x27;s take a closer look at the prepared statement below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[Select id, name, email from users where id = ] {?};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The SQL code enclosed in the square bracket <strong><code>([ ])</code></strong> will be pre-compiled, and the Question Mark <strong>(?)</strong> enclosed in the curly braces <strong><code>({})</code></strong> shows the data bindings appended at runtime based on the different values supplied by the calling application.</p><p>In this guide, you&#x27;ll learn how to use prepared statements in Appsmith and some examples for different datasources. You&#x27;ll also learn when and when not to use prepared statements.</p><p>To understand how prepared statements work in Appsmith, let&#x27;s first understand how prepared statements work at a database level.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-prepared-statements-work">How Do Prepared Statements Work?<a class="hash-link" href="#how-do-prepared-statements-work" title="Direct link to heading">​</a></h2><p>A prepared statement workflow consists of three stages: Prepare, Process, and Execute.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prepare">Prepare<a class="hash-link" href="#prepare" title="Direct link to heading">​</a></h3><p>In the prepare stage, a statement template is sent to the database server. In this template, some values are left unspecified and called parameters labeled using a question mark (?) sign.</p><p>For example, in the below statement, the text in the square bracket<!-- -->*<!-- -->*<code>([])</code>*<!-- -->*<!-- --> is the statement template, and question mark signs in curly braces <!-- -->*<!-- -->*<code>({})</code>*<!-- -->*<!-- -->are the parameters supplied at runtime.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[Insert into users(name, email) values ]{(?,?)};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="process">Process<a class="hash-link" href="#process" title="Direct link to heading">​</a></h3><p>The database server parses, compiles, optimizes, and stores the result without executing the statement template. The statement is optimized and ready to be executed whenever the parameters (labeled with question marks) are supplied.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="execute">Execute<a class="hash-link" href="#execute" title="Direct link to heading">​</a></h3><p>Whenever the parameters are supplied for the given prepared statement, the database binds the values to the statement and executes it. The database can execute the statements as often as the application triggers by supplying the same or different parameters.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-should-you-use-prepared-statements"><strong>Why Should You Use Prepared Statements?</strong><a class="hash-link" href="#why-should-you-use-prepared-statements" title="Direct link to heading">​</a></h2><p>The benefits of using Prepared Statements are:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="efficiency"><strong>Efficiency</strong><a class="hash-link" href="#efficiency" title="Direct link to heading">​</a></h3><p>The prepared statement uses a pre-compiled SQL code, so the code is not compiled for every execution run. It speeds up the execution, thus enhancing efficiency.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="security"><strong>Security</strong><a class="hash-link" href="#security" title="Direct link to heading">​</a></h3><p>The prepared statement is a parameterized and reusable block of code. It forces the user to write the SQL command and send the user inputs data separately. Thus, the data bindings defined in the prepared statements are sent to the server to execute the pre-compiled code block and generate the response accordingly. Due to this, a prepared statement provides a secured environment and avoids <a href="https://en.wikipedia.org/wiki/SQL_injection" target="_blank" rel="noopener noreferrer">SQL injection</a>, that is the most common web hacking technique.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prepared-statement-in-appsmith"><strong>Prepared Statement in Appsmith</strong><a class="hash-link" href="#prepared-statement-in-appsmith" title="Direct link to heading">​</a></h2><p>Appsmith supports using prepared statements by converting the user query into a parameterized query by replacing the bindings. That means the query created on the Appsmith will have bindings for reading the widget values selected by users. Appsmith internally replaces these widget bindings with question marks(&#x27;?&#x27;) and translates Appsmith queries into Prepared Statements.</p><p>For example, the query created on Appsmith looks as below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SELECT * FROM users where id = {{Table1.selectedRow.Id}};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Appsmith internally replaces <code>{{Table1.selectedRow.Id}}</code> with a question mark <code>(?)</code>. The payload inserts params one by one, ensuring that the bindings get properly escaped and sanitized before the query is sent to the database for execution. Thus, translating an Appsmith query into a prepared statement.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Appsmith first <strong>sanitizes</strong> each input so that the apps you build on Appsmith are <strong>protected</strong> against <strong>SQL injection</strong>.</p></div></div><p>For example, your query has multiple bindings as below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SELECT * FROM users where id = {{Table1.selectedRow.Id}} and name = {{Table1.selectedRow.name}};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For the above query, the first binding for <strong>Id</strong> <code>{{Table1.selectedRow.Id}}</code> is set as the first parameter and second binding for <strong>name</strong> <code>{{Table1.selectedRow.name}}</code> as second parameter.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>The multiple bindings added to the Appsmith queries are translated into the number of parameters that will be supplied to a prepared statement.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prepared-statement-support">Prepared Statement Support<a class="hash-link" href="#prepared-statement-support" title="Direct link to heading">​</a></h3><p>You can use prepared statements for the below datasources on Appsmith:</p><ul><li><a href="/reference/datasources/querying-mssql">MS SQL</a></li><li><a href="/reference/datasources/querying-mysql">MySQL</a></li><li><a href="/reference/datasources/querying-postgres">PostgreSQL</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enable-prepared-statement">Enable Prepared Statement<a class="hash-link" href="#enable-prepared-statement" title="Direct link to heading">​</a></h3><p>To use prepared statements for a datasource, you&#x27;ll have to enable the prepared statement for query execution.</p><figure><object data="https://www.youtube.com/embed/PSw1iyyv6UM?autoplay=0" width="750px" height="400px"></object><figcaption align="center"><i>How to enable a prepared statement</i></figcaption></figure><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Whenever you <strong>create a new query</strong>, the <strong>prepared statement setting</strong> is <strong>enabled</strong>. You can <strong>turn it off manually</strong> if you wish to.</p></div></div><p>You can choose to enable or disable the prepared statement by using the <code>Use Prepared Statement</code> toggle available on the <strong>Query</strong> screen or navigate to the <strong>Settings</strong> tab where the same toggle <code>Use Prepared Statement</code> is available.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-a-toggle-on-the-query-tab"><strong>Using a toggle on the Query tab</strong><a class="hash-link" href="#using-a-toggle-on-the-query-tab" title="Direct link to heading">​</a></h4><p><img loading="lazy" alt="Enable or Disable Prepared Statement from Query Tab" src="/assets/images/How-to-guide_Prepared_Statements__Enable_Prepared_Statement__Query__Query_tab-63a00d0fd0063384e8e4008488121f8e.png" width="2506" height="912" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-a-toggle-on-the-settings-tab"><strong>Using a toggle on the Settings tab</strong><a class="hash-link" href="#using-a-toggle-on-the-settings-tab" title="Direct link to heading">​</a></h4><p><img loading="lazy" alt="Enable or Disable Prepared Statement from Settings Tab" src="/assets/images/How-to-guide_Prepared_Statements__Enable_Prepared_Statement__Query__Settings_tab-07fbe3d8d0da24809da8f723fcc34874.png" width="2494" height="866" class="img_ev3q"></p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Both the toggles <code>Use Prepared Statement</code>work in sync, and you can choose any to enable or disable the prepared statements.</p></div></div><p>The <a href="/learning-and-resources/how-to-guides/how-to-use-prepared-statements#prepared-statement-support">above datasources have some syntactic changes</a> in query creation. However, you can enable or disable the prepared statements for almost every scenario, as illustrated below.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-to-use-prepared-statements-in-appsmith">When to Use Prepared Statements in Appsmith<a class="hash-link" href="#when-to-use-prepared-statements-in-appsmith" title="Direct link to heading">​</a></h3><p>You can use prepared statements when doing dynamic data bindings in the <code>where</code> clause. Remember to keep the query before the <code>where</code> clause static and provide the column names used to filter the data. However, the data can be dynamically set based on the user&#x27;s inputs.</p><p>As shown in the code snippet below, you can dynamically add the data binding embedded in the mustache sign<!-- -->*<!-- -->*<code>({{}})</code>*<!-- -->*<!-- --> based on user input.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> SELECT * FROM USERS WHERE ID = {{Table1.selectedRow.Id}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>You can <strong>only</strong> have <strong>bindings</strong> for the <strong>data supplied</strong> to the <strong>columns</strong> in the <strong>where</strong> clause while <strong>using prepared statements</strong>.</p></div></div><p>Below are some of the example use cases showcasing when and how you can use prepared statements:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="simple-prepared-statement">Simple Prepared Statement<a class="hash-link" href="#simple-prepared-statement" title="Direct link to heading">​</a></h4><p>You can use prepared statements whenever you want to perform a simple Create, Read, Update or Delete (CRUD) operation, which manipulates database table data with the dynamic data bindings.</p><p>For example, you want to create a user record into the <code>users</code> table for user registration, and capture the details from a registration form available on Appsmith for your user registration application. You can create a simple insert query to capture the user&#x27;s input and store the record in the <code>users</code> table by enabling prepared statements.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Insert into users (name, email) values({{userRegistrationForm.data.name}}, {{userRegistrationForm.data.email}});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here, <code>userRegistrationForm</code> is the name of the <a href="/reference/widgets/form">form</a> widget, and <code>name</code> and <code>email</code> are the names of the input widget embedded into the <a href="/reference/widgets/form">form</a>.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>You can use <strong>join queries</strong> or <strong>subqueries</strong> to have <strong>dynamic data binding</strong> as long as the <strong>query</strong> is <strong>static</strong> and <strong>only</strong> <strong>data</strong> bindings are added to the <strong>where</strong> clause.</p></div></div><p><strong>Data Type Cast</strong></p><p>Appsmith out-of-the-box handles the data type casting based on the type of the data supplied for a column as a data binding.</p><p>For example, you are updating a user&#x27;s data for the location. You are updating the latitude and longitude for the same. The latitude and longitude have values like <code>42.9756</code> and <code>105.8589</code> respectively.</p><p>The data supplied for latitude and longitude suggests that the column could have a floating data type. If the latitude and longitude have a floating data type in your <code>users</code> table, the updates will happen seamlessly with prepared statements being turned on. However, suppose the data type of latitude and longitude is anything other than float, say text. To use prepared statements, you&#x27;ll have to typecast the values manually in your queries, as shown in the below code snippet:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// you can see that **:: text** is used for latitude and </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// longitude to type cast the column data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Update users set latitude = {{userUpdateForm.data.latitude}} :: text, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">longitude = {{userUpdateForm.data.longitude}} :: text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">where id = {{userUpdateForm.data.id}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>In Clause</strong></p><p>You have a search functionality allowing users to select different statuses to filter the result. A user can select more than one status to view the data. You translate this into a select query and use an in clause which takes up an array of data, and would write a query as below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SELECT * from users where status in ({{userStatus.selectedOptionValues}})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here, <code>userStatus</code> is a <a href="/reference/widgets/multiselect">MultiSelect</a> widget. There are two scenarios for the <code>in clause</code> queries; You don&#x27;t know how many options the user will select, so you will supply a dynamic length of an array, or you know the data bindings and so supply a static length of the array to the in clause.</p><p><strong>Dynamic Array Length</strong></p><p>When you supply an array with varying lengths, you generate a dynamic <code>in clause</code> with indefinite bindings determined at runtime. The problem with using an array for generating a dynamic <code>in clause</code> is that no definite values are available as selected options are not fixed and may vary. Because of this, the binding to the number of parameters with the query will fail.</p><p>To use prepared statements for queries which dynamic data bindings for in clause, you can use a query as below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SELECT * from users where status in = ANY ({{userStatus.selectedOptionValues}})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The above query will bind the parameters and sanitize the values for your queries.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>The <strong><code>= ANY</code></strong> combination is <strong>supported</strong> on <a href="/reference/datasources/querying-postgres"><strong>PostgreSQL</strong></a>, but <a href="/reference/datasources/querying-mysql"><strong>MySQL</strong></a> <strong>doesn’t</strong> <strong>support</strong> it. For <a href="/reference/datasources/querying-mysql"><strong>MySQL</strong></a>, when you have a dynamic array binding, you&#x27;ll have to use it by <strong>disabling prepared statements</strong>.</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="static-array-length"><strong>Static Array Length</strong><a class="hash-link" href="#static-array-length" title="Direct link to heading">​</a></h4><p>When you know that the <code>in clause</code> will have a fixed number of data bindings you capture by different widgets, it is static. Here, you are aware of the number of data bindings present for an <code>in clause</code>. The prepared statement can work for such bindings, and you can write a query as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SELECT * from users where status in ({{userActiveStatus.text}} , {{userInActiveStatus.text}})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here, the <code>userActiveStatus</code> and <code>userInActiveStatus</code> are two different <a href="/reference/widgets/text">text widgets</a> that are <strong>added as</strong> data binding for in clause.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-not-to-use-prepared-statements-in-appsmith">When Not to Use Prepared Statements in Appsmith<a class="hash-link" href="#when-not-to-use-prepared-statements-in-appsmith" title="Direct link to heading">​</a></h3><p>You can choose to turn off the prepared statement use when your query falls under one of the below criteria:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-table-name">Dynamic Table Name<a class="hash-link" href="#dynamic-table-name" title="Direct link to heading">​</a></h4><p>You are generating a table name dynamically based on some criteria in your code logic and then supplying it as a binding to the query.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Select * from {{Generated_Table_Name.text}} </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this query, you read the table name from a <a href="/reference/widgets/text">Text widget </a><strong>(Generated<!-- -->_<!-- -->Table<!-- -->_<!-- -->Name)</strong>, and as the query does not have a static block that tells which table to refer to the prepared statements fail to execute the binding. In such cases, you can turn off the prepared statements and continue to use the query to generate responses.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-queries">Dynamic Queries<a class="hash-link" href="#dynamic-queries" title="Direct link to heading">​</a></h4><p>You generate the query on the fly based on some parameters and then execute it. For example, <code>{{Query_to_Execute.text}}</code> where the <a href="/reference/widgets/text">Text Widget</a> <strong>(Query<!-- -->_<!-- -->to<!-- -->_<!-- -->Execute)</strong> has the query that will be executed, which could be generated on the fly based on some logic in the code. As the static query that will be executed is not available for pre-compilation, the prepared statements fail to execute. For such scenarios, you can disable the prepared statements and continue to use the query to generate responses.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-where-clause">Dynamic Where Clause<a class="hash-link" href="#dynamic-where-clause" title="Direct link to heading">​</a></h4><p>You want to generate a where clause based on some code logic. For example, you have a search feature where a user can select some parameters to filter the data. If the user selects particular criteria, you add that to the where clause to filter the records. The user may choose not to add the parameter, so the where clause will not have a column for filtering. It means you are dynamically generating the column name bindings and the data for the columns based on the user&#x27;s input.</p><p>For such scenarios, the query can&#x27;t be pre-compiled as there are too many unknowns, and every run could result in a different query, so the prepared statements fail to execute. You can toggle off the prepared statement and continue to use the query for result generation.</p><p>Look at the code snippet below, where you are generating a <code>where</code> clause with a null check.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SELECT * FROM users WHERE {{ !!Input1.text ? &quot;name =&quot; +  Input1.text : &quot;name IS NULL&quot; }}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For the above scenario, also turn off the prepared statement. The query can’t be pre-compiled and will be evaluated as a new query for every run, as the where clause is dynamically generated and evaluated at runtime.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>A <strong>prepared statement</strong> <strong>requires</strong> you to supply <strong>a static part of the query</strong> to understand the <strong>type of operation</strong> (Create, Read, Update or Delete) performed on the database table (Table name) and the <strong>columns</strong> that will be used in the <strong>where</strong> clause to filter the data from the database table.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="quick-tips"><strong>Quick Tips</strong><a class="hash-link" href="#quick-tips" title="Direct link to heading">​</a></h2><p>A few quick tips to remember so that you can quickly steer it through when using prepared statements:</p><ul><li>The commented code blocks in your queries should not have any bindings, as when you enable the prepared statement, it translates all the bindings. As the commented block has bindings, the translation will fail, and you will not be able to run the queries. To avoid this, remove the mustache <strong><code>{{}}</code></strong> sign around the binding whenever you are commenting code, and the prepared statement will work.</li><li>If you are using a dynamic array to supply the <code>in clause</code> and using <a href="/reference/datasources/querying-postgres">PostgreSQL</a>, then you can use <code>= ANY</code>. However, turn off the prepared statements to run the query if you are on <a href="/reference/datasources/querying-mysql">MySQL</a>.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">​</a></h2><p>Prepared statements bring <a href="/learning-and-resources/how-to-guides/how-to-use-prepared-statements#efficiency">efficiency</a> and <a href="/learning-and-resources/how-to-guides/how-to-use-prepared-statements#security">security</a> to the data manipulation for the apps built on Appsmith. With sanitization done out-of-the-box by Appsmith for prepared statements, you can seamlessly build complex apps that suit your requirements.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/bucketclan/appsmith-docs/blob/v1.5/website/docs/learning-and-resources/how-to-guides/how-to-use-prepared-statements.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/learning-and-resources/how-to-guides/how-to-use-elasticsearch-as-a-data-source-on-appsmith"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">How to Use Elasticsearch as a Datasource on Appsmith</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/learning-and-resources/sample-apps"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Sample Apps</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-do-prepared-statements-work" class="table-of-contents__link toc-highlight">How Do Prepared Statements Work?</a><ul><li><a href="#prepare" class="table-of-contents__link toc-highlight">Prepare</a></li><li><a href="#process" class="table-of-contents__link toc-highlight">Process</a></li><li><a href="#execute" class="table-of-contents__link toc-highlight">Execute</a></li></ul></li><li><a href="#why-should-you-use-prepared-statements" class="table-of-contents__link toc-highlight"><strong>Why Should You Use Prepared Statements?</strong></a><ul><li><a href="#efficiency" class="table-of-contents__link toc-highlight"><strong>Efficiency</strong></a></li><li><a href="#security" class="table-of-contents__link toc-highlight"><strong>Security</strong></a></li></ul></li><li><a href="#prepared-statement-in-appsmith" class="table-of-contents__link toc-highlight"><strong>Prepared Statement in Appsmith</strong></a><ul><li><a href="#prepared-statement-support" class="table-of-contents__link toc-highlight">Prepared Statement Support</a></li><li><a href="#enable-prepared-statement" class="table-of-contents__link toc-highlight">Enable Prepared Statement</a></li><li><a href="#when-to-use-prepared-statements-in-appsmith" class="table-of-contents__link toc-highlight">When to Use Prepared Statements in Appsmith</a></li><li><a href="#when-not-to-use-prepared-statements-in-appsmith" class="table-of-contents__link toc-highlight">When Not to Use Prepared Statements in Appsmith</a></li></ul></li><li><a href="#quick-tips" class="table-of-contents__link toc-highlight"><strong>Quick Tips</strong></a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/advanced-concepts/how-to-implement-custom-authentication-on-appsmith">Advanced Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/">Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/learning-and-resources/tutorials">Resources</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://community.appsmith.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.com/invite/rBTTVJp" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/theappsmith?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.appsmith.com/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/appsmithorg/appsmith" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/c/Appsmith" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Appsmith, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.546b6344.js"></script>
<script src="/assets/js/main.b49485b8.js"></script>
</body>
</html>