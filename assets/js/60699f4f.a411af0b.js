"use strict";(self.webpackChunkappsmith_docs=self.webpackChunkappsmith_docs||[]).push([[8436],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>h});var n=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},p=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(a),h=i,m=d["".concat(l,".").concat(h)]||d[h]||u[h]||o;return a?n.createElement(m,r(r({ref:t},p),{},{components:a})):n.createElement(m,r({ref:t},p))}));function h(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=a.length,r=new Array(o);r[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var c=2;c<o;c++)r[c]=a[c];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},69691:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var n=a(87462),i=(a(67294),a(3905));const o={sidebar_position:1},r="How to Use JS Object Within Appsmith?",s={unversionedId:"learning-and-resources/how-to-guides/how-to-use-js-object-within-appsmith",id:"learning-and-resources/how-to-guides/how-to-use-js-object-within-appsmith",title:"How to Use JS Object Within Appsmith?",description:"JavaScript(JS) is a programming language used on both the client and the server-side. It also supports the creation of an object known as JavaScript Object (JS Object). Javascript object is a collection of properties designated by a key-value pair. In this guide, you\u2019ll learn how to use JavaScript(JS) objects within Appsmith.",source:"@site/docs/learning-and-resources/how-to-guides/how-to-use-js-object-within-appsmith.md",sourceDirName:"learning-and-resources/how-to-guides",slug:"/learning-and-resources/how-to-guides/how-to-use-js-object-within-appsmith",permalink:"/appsmith-docs/learning-and-resources/how-to-guides/how-to-use-js-object-within-appsmith",draft:!1,editUrl:"https://github.com/bucketclan/appsmith-docs/blob/v1.5/website/docs/learning-and-resources/how-to-guides/how-to-use-js-object-within-appsmith.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"How To Guides",permalink:"/appsmith-docs/learning-and-resources/how-to-guides/"},next:{title:"Writing JavaScript in Appsmith",permalink:"/appsmith-docs/learning-and-resources/how-to-guides/writing-javascript-in-appsmith"}},l={},c=[{value:"JavaScript Object",id:"javascript-object",level:2},{value:"JavaScript Object in Appsmith",id:"javascript-object-in-appsmith",level:2},{value:"Add a JS Object",id:"add-a-js-object",level:3},{value:"Structure of JS Object",id:"structure-of-js-object",level:3},{value:"JS Notations within Methods",id:"js-notations-within-methods",level:4},{value:"How to Use JS Objects within Appsmith?",id:"how-to-use-js-objects-within-appsmith",level:2},{value:"Use Case",id:"use-case",level:3},{value:"Create API",id:"create-api",level:4},{value:"Create JS Object",id:"create-js-object",level:4},{value:"Conclusion",id:"conclusion",level:2}],p={toc:c};function u(e){let{components:t,...o}=e;return(0,i.kt)("wrapper",(0,n.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"how-to-use-js-object-within-appsmith"},"How to Use JS Object Within Appsmith?"),(0,i.kt)("p",null,"JavaScript(JS) is a programming language used on both the client and the server-side. It also supports the creation of an object known as JavaScript Object (JS Object). Javascript object is a collection of properties designated by a key-value pair. In this guide, you\u2019ll learn how to use JavaScript(JS) objects within Appsmith."),(0,i.kt)("h2",{id:"javascript-object"},"JavaScript Object"),(0,i.kt)("p",null,"JavaScript Object(JS Object) is a collection of key-value pairs which defines its attributes. The object attributes are similar to the variables defined in JavaScript, except they are accessed with specific notations for the particular object associated with and store different values for different objects."),(0,i.kt)("h2",{id:"javascript-object-in-appsmith"},"JavaScript Object in Appsmith"),(0,i.kt)("p",null,"JS Object in Appsmith is an encapsulation of variables and functions associated with it. It is a template similar to a Java class that holds the variables and the underlying functions used to perform actions."),(0,i.kt)("h3",{id:"add-a-js-object"},"Add a JS Object"),(0,i.kt)("p",null,"You can create a JS Object by navigating to Explorer \u2192 Click the (+) sign next to ",(0,i.kt)("inlineCode",{parentName:"p"},"QUERIES/JS")," and select ",(0,i.kt)("inlineCode",{parentName:"p"},"New JS Object"),"."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Add a JS Object from explorer",src:a(78408).Z,width:"1110",height:"650"})),(0,i.kt)("p",null,"Click on the JS object to reveal the ",(0,i.kt)("inlineCode",{parentName:"p"},"Code")," associated with it. You\u2019ll see that the JS Object code opens up to display a template that follows a particular structure."),(0,i.kt)("h3",{id:"structure-of-js-object"},"Structure of JS Object"),(0,i.kt)("p",null,"A JS Object follows the following template:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"//a template that defines a JS Object in Appsmith\nexport default { \n\n    myVar1: [], // you can define array\n\n    myVar2: {}, // you can define object\n\n    // define functions\n\n    myFun1: () => {\n\n        //write code to manipulate the data or perform actions \n        //like calling an API or executing a database query\n\n    },\n\n    myFun2: async () => {\n\n        //use async-await or promises\n\n        // this helps when you would want to trigger queries \n        //or API calls at run time.\n\n        // For example, API_NAME.run() - run method executes the call \n        //and returns the response.\n\n    }\n\n}\n")),(0,i.kt)("p",null,"In Appsmith, you can use the inherent JavaScript way of accessing or creating JS objects in the functions only that are defined within a JS Object."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"The point to remember is that Appsmith provides access to your JS objects across the Appsmith platform, and for this, we export the JS objects. Thus, the JS Object notation should start with ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"export default")),".")),(0,i.kt)("p",null,"If you do not start the notation with ",(0,i.kt)("inlineCode",{parentName:"p"},"export default"),", the JS object will be invalid and can\u2019t be defined as Appsmith does not recognize them and throws an error."),(0,i.kt)("h4",{id:"js-notations-within-methods"},"JS Notations within Methods"),(0,i.kt)("p",null,"You can use the properties of the JS Objects defined localized to your methods using dot or bracket notation. For example, you have defined a variable that is local to your method, as shown in the code snippet below:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"}," export default { \n\n    useJSObjectProps: () => {\n\n        const userObject = new Object(); //object with method scope and \n                            // is local to this method.\n\n        userObject.id = \u201c1\u201d; // setting property using dot notation\n\n        userObject[\u201cname\u201d] = \u201cJohn\u201d; //setting property using bracket \n                        //notation\n\n        showAlert(userObject.id); // an alert function available on \n                     // Appsmith to alert the property value. \n                    // You can access property using dot \n                    // notation.\n\n\n    showAlert(userObject[\u201cname\u201d]); // You can access property using bracket \n                          // notation.\n\n            }\n\n}\n")),(0,i.kt)("p",null,"The default JavaScript object creation and property setters and getters work if you define them inside the method. However, a code snippet as below will throw an error."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Editor showing syntax errors",src:a(6942).Z,width:"2976",height:"1258"})),(0,i.kt)("p",null,"Let\u2019s quickly understand how to use the JS Object within Appsmith."),(0,i.kt)("h2",{id:"how-to-use-js-objects-within-appsmith"},"How to Use JS Objects within Appsmith?"),(0,i.kt)("p",null,"Appsmith supports the built-in access ways provided by JavaScript. Let\u2019s take a use case to understand better how you can use JS objects within Appsmith."),(0,i.kt)("h3",{id:"use-case"},"Use Case"),(0,i.kt)("p",null,"You are building a user directory, and the user data is fetched either by using an API/ a database query."),(0,i.kt)("p",null,"The API/query returns a collection of user data. You have to fetch the user\u2019s KYC status that a third-party API supplies for every user in the collection. Once you receive the KYC status, you have to update it for each user in the collection and then return the updated user data."),(0,i.kt)("p",null,"Let\u2019s build on this use case by following the below steps:"),(0,i.kt)("h4",{id:"create-api"},"Create API"),(0,i.kt)("p",null,"You can either add a database query or call an API for fetching the user data."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"API to Fetch User Data")),(0,i.kt)("p",null,"For our use case, let\u2019s add an API that returns a collection of user data."),(0,i.kt)("p",null,"Navigate to the Explorer \u2014 > Click the (+) sign next to ",(0,i.kt)("inlineCode",{parentName:"p"},"QUERIES/JS")," and select ",(0,i.kt)("inlineCode",{parentName:"p"},"New Blank API"),". In our case, let\u2019s name the API- ",(0,i.kt)("inlineCode",{parentName:"p"},"GetUserList"),". The API generates a collection of users, where each user object has properties - Id, Name, and Email."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"How to create an API?",src:a(5708).Z,width:"2990",height:"996"})),(0,i.kt)("p",null,"A sample response generated by the API will be as follows:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'{\n\n  "users": [\n\n    {\n\n      "id": "1",\n\n      "name": "John Smith",\n\n      "email": "john.smith@abc.com"\n\n    },\n\n    {\n\n      "id": "2",\n\n      "name": "Jack Jones",\n\n      "email": "jack.jones@abc.com"\n\n    },\n\n    {\n\n      "id": "3",\n\n      "name": "Emily Brains",\n\n      "email": "emily.brains@abc.com"\n\n    }\n\n  ]\n\n}\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"API to Check KYC Status")),(0,i.kt)("p",null,"Similar to ",(0,i.kt)("inlineCode",{parentName:"p"},"GetUserList")," API, let\u2019s add another API, ",(0,i.kt)("inlineCode",{parentName:"p"},"GetUserKycStatus,")," that will check the given user\u2019s KYC Status and returns status with pass/fail as a response:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"{\n\n    \u201cstatus\u201d: \u201cPass\u201d\n\n}\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"How to Display the Data?")),(0,i.kt)("p",null,"Appsmith provides several different ",(0,i.kt)("a",{parentName:"p",href:"/core-concepts/data-access-and-binding/displaying-data-read/"},"widgets")," that you can use to display data. We\u2019ll use a ",(0,i.kt)("a",{parentName:"p",href:"/reference/widgets/table/"},"table widget")," to display the data for our use case. Drag a table widget from the left navigation bar onto the canvas. It\u2019s advisable to provide a unique name to the widget like ",(0,i.kt)("inlineCode",{parentName:"p"},"BeforeJSCall"),". For a table widget to display data, it needs data collection. The API ",(0,i.kt)("inlineCode",{parentName:"p"},"GetUserList")," returns a user array. To bind the API response data, you can use ",(0,i.kt)("inlineCode",{parentName:"p"},"{{ GetUserList.data.users }}")," in the table data property. The table widget displays data as below:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Display API response in table widget",src:a(46926).Z,width:"1478",height:"692"})),(0,i.kt)("p",null,"As per the use case, the user\u2019s KYC status is recorded by a third-party API ",(0,i.kt)("inlineCode",{parentName:"p"},"GetUserKycStatus"),". To trigger the API call, you\u2019ll have to iterate through the user collection and fetch the status per user. In such scenarios, you can use JS Objects on the Appsmith."),(0,i.kt)("h4",{id:"create-js-object"},"Create JS Object"),(0,i.kt)("p",null,"Appsmith provides ",(0,i.kt)("strong",{parentName:"p"},"JS Objects")," that can perform a particular or series of actions. Create a JS Object by navigating to the Explorer \u2192 Click the (+) sign next to ",(0,i.kt)("inlineCode",{parentName:"p"},"QUERIES/JS"),", and select ",(0,i.kt)("inlineCode",{parentName:"p"},"New JS Object"),"."),(0,i.kt)("p",null,"Copy and paste the code snippet below in the JS function\u2019s code editor."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"export default {\n\n    getKycStatusForUsers: () => {   \n\n        const updatedUsers = []; // add an empty array of users.\n\n         //An API call to get the user collection and then iterate through the collection using forEach\n\n        GetUserList.data.users.forEach(function(userObj){\n\n            // Create a user object to add the data\n\n            const userObject = {\n\n                id: userObj.id,\n\n                name: userObj.name,\n\n                email:userObj.email,\n\n                kycStatus: GetUserKycStatus.data.status // call an API to fetch the User Status\n\n            }\n\n            updatedUsers.push(userObject);  // Adding the updated user to the collection    \n\n        });\n\n        return updatedUsers; // return the array with the updated user data\n\n    }\n\n}\n")),(0,i.kt)("p",null,"With the above code:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Create an empty collection ",(0,i.kt)("inlineCode",{parentName:"li"},"updatesUsers"),"."),(0,i.kt)("li",{parentName:"ul"},"Call the API ",(0,i.kt)("inlineCode",{parentName:"li"},"GetUserList")," right inside the JS function"),(0,i.kt)("li",{parentName:"ul"},"Use ",(0,i.kt)("inlineCode",{parentName:"li"},"forEach")," to iterate over the data"),(0,i.kt)("li",{parentName:"ul"},"Call ",(0,i.kt)("inlineCode",{parentName:"li"},"GetUserKycStatus")," API for every user object in the array that returns the user\u2019s KYC status."),(0,i.kt)("li",{parentName:"ul"},"Create a user object. ",(0,i.kt)("strong",{parentName:"li"},"Here you can use default JavaScript to create an object and its associated properties.")),(0,i.kt)("li",{parentName:"ul"},"Update existing properties or add new properties. ",(0,i.kt)("strong",{parentName:"li"},"Here you can use default JavaScript to access or add properties to an object.")),(0,i.kt)("li",{parentName:"ul"},"Add the updated user object to the ",(0,i.kt)("inlineCode",{parentName:"li"},"updatedUsers")," collection using the ",(0,i.kt)("inlineCode",{parentName:"li"},"push")," method."),(0,i.kt)("li",{parentName:"ul"},"Return the updated collection")),(0,i.kt)("p",null,"Add a table widget onto the canvas, name it as ",(0,i.kt)("inlineCode",{parentName:"p"},"AfterJSCall")," and bind the JS function to the table data. Use ",(0,i.kt)("inlineCode",{parentName:"p"},"{{JSFetchUsers.getKycStatusForUsers()}}")," to bind the data."),(0,i.kt)("p",null,"Here\u2019s a video that shows how the above code works:"),(0,i.kt)("figure",null,(0,i.kt)("object",{data:"https://www.youtube.com/embed/Y5k71xnOw3I?autoplay=0",width:"750px",height:"400px"}),(0,i.kt)("figcaption",{align:"center"},(0,i.kt)("i",null,"How to use JS object within Appsmith"))),(0,i.kt)("h2",{id:"conclusion"},"Conclusion"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"JavaScript Objects")," (JS Objects) are a powerful way to manipulate data by combining APIs and Query responses. It\u2019s an easy and efficient way of handling your dataset and connecting various trigger points to display it. With Promise and JavaScript, build robust data manipulation logic under Appsmith\u2019s hood."))}u.isMDXComponent=!0},78408:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/JSOBjects_-_Create_New_-_JS_Object-2f255a22eebbec8d717d52fe246346e8.png"},6942:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/JSObjects-SyntaxError-62083825865532697acd9e1f7f7a5c81.png"},46926:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/JSObjects_-_Before_JS_Call-d541ae4c8d18cf6b4cf6f8aa38d272c6.png"},5708:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/JSObjects_-_Create_API-ab612fdefc898de8562bbffd77b7d0b2.png"}}]);