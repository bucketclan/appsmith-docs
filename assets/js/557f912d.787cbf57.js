"use strict";(self.webpackChunkappsmith_docs=self.webpackChunkappsmith_docs||[]).push([[4875],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=i,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||r;return n?a.createElement(h,o(o({ref:t},c),{},{components:n})):a.createElement(h,o({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var p=2;p<r;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},34822:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var a=n(87462),i=(n(67294),n(3905));const r={description:"Every widget, API & query is exposed as an object which can be used to write logic"},o="Writing Code",l={unversionedId:"core-concepts/writing-code/README",id:"core-concepts/writing-code/README",title:"Writing Code",description:"Every widget, API & query is exposed as an object which can be used to write logic",source:"@site/docs/core-concepts/writing-code/README.md",sourceDirName:"core-concepts/writing-code",slug:"/core-concepts/writing-code/",permalink:"/core-concepts/writing-code/",draft:!1,editUrl:"https://github.com/bucketclan/appsmith-docs/blob/v1.5/website/docs/core-concepts/writing-code/README.md",tags:[],version:"current",frontMatter:{description:"Every widget, API & query is exposed as an object which can be used to write logic"},sidebar:"tutorialSidebar",previous:{title:"Capture Form Data",permalink:"/core-concepts/data-access-and-binding/capturing-data-write/capture-form-data"},next:{title:"JS Objects",permalink:"/core-concepts/writing-code/javascript-editor-beta/"}},s={},p=[{value:"Configuring Widgets with Code",id:"configuring-widgets-with-code",level:2},{value:"Single Line JavaScript",id:"single-line-javascript",level:2},{value:"Valid JavaScript",id:"valid-javascript",level:3},{value:"Multi-Line JavaScript",id:"multi-line-javascript",level:2}],c={toc:p};function d(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"writing-code"},"Writing Code"),(0,i.kt)("p",null,"You can use JavaScript  inside ",(0,i.kt)("inlineCode",{parentName:"p"},"{{ }}")," anywhere in Appsmith. You can reference every entity in Appsmith as a JavaScript variable and perform all JavaScript functions and operations on them. It means you can reference all Widgets, APIs, Queries, and their associated data and properties  anywhere in an application in mustache syntax",(0,i.kt)("inlineCode",{parentName:"p"},"{{ }}"),"."),(0,i.kt)("p",null,"Appsmith currently supports two forms of JavaScript code for dynamically evaluated property values:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Single line code or functions, such as ternary conditions")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"{{ QueryName.data.filter((row) => row.id > 5 ) }}\n")),(0,i.kt)("p",null,"2","."," Immediately-Invoked Function Expressions (",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Glossary/IIFE"},"IIFE"),")"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"{{ \n  (function() {\n      const array = QueryName.data;\n      const filterArray = array.filter((row) => row.id > 5);\n      return filterArray;\n   })()\n}}\n")),(0,i.kt)("p",null,"You can also write JavaScript code for event listeners. For JavaScript code inside an event listener, you can write multi-line JavaScript as below."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'{{\n  storeValue("userID", 42);  \n  console.log(appsmith.store.userID); \n  showAlert("userID saved");\n}}\n')),(0,i.kt)("h2",{id:"configuring-widgets-with-code"},"Configuring Widgets with Code"),(0,i.kt)("p",null,"When data changes within your app, your widgets need to update themselves to reflect these changes. To make this happen, Appsmith follows the reactive programming paradigm."),(0,i.kt)("p",null,"Instead of managing widget properties and states with direct variable assignment in code (like ",(0,i.kt)("inlineCode",{parentName:"p"},"x = 5"),"), widgets in your applications are connected to each other and share data; when one value is updated in your app, any objects that depend on that changed value also update accordingly. Below is a quick example of using the reactive code style to update a ",(0,i.kt)("a",{parentName:"p",href:"../../reference/widgets/button/"},"Button"),"'s label in real time by taking user input from an ",(0,i.kt)("a",{parentName:"p",href:"/reference/widgets/input"},"Input")," widget. Take a look at the video below:"),(0,i.kt)("figure",null,(0,i.kt)("object",{data:"https://www.youtube.com/embed/YXo4PVrw1RQ?autoplay=0",width:"750px",height:"400px"}),(0,i.kt)("figcaption",{align:"center"},"Reactive")),(0,i.kt)("p",null,"The button\u2019s label could be set as a simple static value (like \u201cSubmit\u201d) in its properties pane, but if you\u2019d like that property to change at any point, it must be defined differently."),(0,i.kt)("p",null,"When writing JavaScript to configure a widget\u2019s property, your code should tell that widget where to look to find its data rather than explicitly setting a specific value. Consider the following example scenario:"),(0,i.kt)("p",null,"Imagine that you're creating a dashboard for viewing and editing product inventory information, and you'd like to implement an 'Edit' mode for changing values. Values shouldn't be allowed to change when 'Edit' mode is off; they can only be updated after the user clicks the 'Edit' button, and then can be saved with a 'Save' button when they're finished. In total, there are a handful of Input widgets for handling the product data and two buttons for switching 'Edit' mode on and off."),(0,i.kt)("p",null,"In an imperative style, you might expect the Input widgets to be toggled with this kind of control:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"Input1.disable()\n// or,\nInput1.enabled = false\n")),(0,i.kt)("p",null,"But this won't work in Appsmith! Instead, you might create and store a special value that represents whether 'Edit' mode is enabled, and configure the widgets to behave according to that value. Appsmith provides the ",(0,i.kt)("a",{parentName:"p",href:"/reference/appsmith-framework/widget-actions/store-value"},(0,i.kt)("inlineCode",{parentName:"a"},"storeValue()"))," function to make this possible, which you can read about ",(0,i.kt)("a",{parentName:"p",href:"/reference/appsmith-framework/widget-actions/store-value"},"here"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// in the Disabled field of the Input widgets' properties\n{{!appsmith.store.editMode}}\n// in the onClick event field of the Edit button's properties\n{{storeValue('editMode', true)}}\n// in the onClick event field of the Save button's properties\n{{storeValue('editMode', false)}}\n")),(0,i.kt)("figure",null,(0,i.kt)("object",{data:"https://www.youtube.com/embed/yKb6SRonfmQ?autoplay=0",width:"750px",height:"400px"}),(0,i.kt)("figcaption",{align:"center"},(0,i.kt)("i",null,"Controlling Widgets with code"))),(0,i.kt)("p",null,"With this configuration, the Input widgets behave according to the current state of ",(0,i.kt)("inlineCode",{parentName:"p"},"editMode")," in the Appsmith store. Anytime this value is toggled, the Input widgets are automatically updated."),(0,i.kt)("h2",{id:"single-line-javascript"},"Single Line JavaScript"),(0,i.kt)("p",null,"Appsmith primarily supports writing single-line javascript between mustache brackets ",(0,i.kt)("inlineCode",{parentName:"p"},"{{ }}"),". Anything written between the brackets is evaluated as a javascript expression and its result is used as the given property's value."),(0,i.kt)("p",null,"Sometimes, to achieve the intended result, it may require us to chain multiple operations (methods, ternary expressions, etc.) in a single line. If your expression becomes too complex to fit easily into a single line, consider writing a helper function in a ",(0,i.kt)("a",{parentName:"p",href:"/learning-and-resources/how-to-guides/how-to-use-js-object-within-appsmith"},"JS Object")," to help keep your code readable!"),(0,i.kt)("h3",{id:"valid-javascript"},"Valid JavaScript"),(0,i.kt)("p",null,"Following are valid examples of JavaScript for property values."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"{{ QueryName.data.filter((row) => row.id > 5 ) }}\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'{{ Dropdown.selectedOptionValue === "1" ? "Option 1" : "Option 2" }}\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Invalid JavaScript")),(0,i.kt)("p",null,'You cannot simply write multi-line javascript between the mustache brackets; the following two snippets are examples of invalid code. See the next section, "Multi-Line Javascript," to see how we can structure properties that accept multiple lines of code.'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"{{ \n   const array = QueryName.data;\n   const filterArray = array.filter((row) => row.id > 5);\n   return filterArray;\n}}\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'{{ \n  if (Dropdown.selectedOptionValue === "1") {\n      return "Option 1";\n  } else {\n      return "Option 2";\n  }\n}}\n')),(0,i.kt)("h2",{id:"multi-line-javascript"},"Multi-Line JavaScript"),(0,i.kt)("p",null,"Appsmith supports multi-line JS if it is an ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Glossary/IIFE"},"IIFE")," (Immediately-Invoked Function Expression). The above invalid examples become valid if restructured and used as below."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"{{ \n  (function() {\n      const array = QueryName.data;\n      const filterArray = array.filter((row) => row.id > 5);\n      return filterArray;\n   })()\n}}\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'{{ \n  (function() {\n      if (Dropdown.selectedOptionValue === "1") {\n        return "Option 1";\n      } else {\n        return "Option 2";\n      }\n   })()\n}}\n')),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("strong",{parentName:"p"},"Writing comments inside :")),(0,i.kt)("p",{parentName:"admonition"},"Note that you can write comments inside using JavaScript's multi-line comment syntax ",(0,i.kt)("inlineCode",{parentName:"p"},"/* */"),", but single-line comments ",(0,i.kt)("inlineCode",{parentName:"p"},"//")," are not supported inside.")))}d.isMDXComponent=!0}}]);