"use strict";(self.webpackChunkappsmith_docs=self.webpackChunkappsmith_docs||[]).push([[3844],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=p(n),g=a,m=d["".concat(l,".").concat(g)]||d[g]||c[g]||o;return n?r.createElement(m,i(i({ref:t},u),{},{components:n})):r.createElement(m,i({ref:t},u))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},93341:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var r=n(87462),a=(n(67294),n(3905));const o={sidebar_position:12},i="PostgreSQL",s={unversionedId:"reference/datasources/querying-postgres",id:"reference/datasources/querying-postgres",title:"PostgreSQL",description:"The following document assumes that you understand the basics of connecting to databases on Appsmith. If not, please go over them before reading further.",source:"@site/docs/reference/datasources/querying-postgres.md",sourceDirName:"reference/datasources",slug:"/reference/datasources/querying-postgres",permalink:"/reference/datasources/querying-postgres",draft:!1,editUrl:"https://github.com/bucketclan/appsmith-docs/blob/v1.5/website/docs/reference/datasources/querying-postgres.md",tags:[],version:"current",sidebarPosition:12,frontMatter:{sidebar_position:12},sidebar:"tutorialSidebar",previous:{title:"MySQL",permalink:"/reference/datasources/querying-mysql"},next:{title:"Redis",permalink:"/reference/datasources/querying-redis"}},l={},p=[{value:"Connection Settings",id:"connection-settings",level:2},{value:"<strong>Connection</strong>",id:"connection",level:3},{value:"<strong>Authentication</strong>",id:"authentication",level:3},{value:"<strong>SSL</strong>",id:"ssl",level:3},{value:"Querying Postgres",id:"querying-postgres",level:2},{value:"Using Prepared Statement (Beta)",id:"using-prepared-statement-beta",level:2},{value:"Using Queries in Applications",id:"using-queries-in-applications",level:2}],u={toc:p};function c(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"postgresql"},"PostgreSQL"),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"The following document assumes that you understand the ",(0,a.kt)("a",{parentName:"p",href:"/core-concepts/connecting-to-data-sources/connecting-to-databases#connecting-to-a-database"},"basics of connecting to databases on Appsmith"),". If not, please go over them before reading further.")),(0,a.kt)("h2",{id:"connection-settings"},"Connection Settings"),(0,a.kt)("p",null,"Appsmith needs the following parameters for connecting to a PostgreSQL database:"),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"All required fields are suffixed with an asterisk (","*",").")),(0,a.kt)("h3",{id:"connection"},(0,a.kt)("strong",{parentName:"h3"},"Connection")),(0,a.kt)("p",null,"You need to fill in the following parameters:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Connection Mode","*",":")," You must choose one of the following two modes:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Read Only:")," Choosing this mode gives Appsmith read-only permission on the database. This allows you to only fetch data from the database."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Read / Write:")," Choosing this mode gives Appsmith both read and write permissions on the database. This allows you to execute all CRUD queries."))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Host Address / Port","*",":")," Fill in the database host\u2019s address and port. If you don\u2019t specify a port, Appsmith will try to connect to port 5432."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Database Name","*",":")," Fill in the name of the database that you want to connect to. This is your database\u2019s name.")),(0,a.kt)("h3",{id:"authentication"},(0,a.kt)("strong",{parentName:"h3"},"Authentication")),(0,a.kt)("p",null,"You need to fill in the following parameters:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Username","*",":")," Fill username required for authenticating connection requests to your database."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Password","*",":")," Fill password required for authenticating connection requests for the given username to the database.")),(0,a.kt)("h3",{id:"ssl"},(0,a.kt)("strong",{parentName:"h3"},"SSL")),(0,a.kt)("p",null,"The SSL Mode can be set to one of the following values:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"Default")),": Same as ",(0,a.kt)("inlineCode",{parentName:"li"},"Prefer"),"."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"Allow")),": Use SSL, only if the server ",(0,a.kt)("em",{parentName:"li"},"insists")," on it."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"Prefer")),": Use SSL, if the server ",(0,a.kt)("em",{parentName:"li"},"supports")," it."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"Require")),": Reject connection, if SSL is not available."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"Disable")),": Connect without SSL, use a plain unencrypted connection.")),(0,a.kt)("p",null,"More information available at ",(0,a.kt)("a",{parentName:"p",href:"https://jdbc.postgresql.org/documentation/head/ssl-client.html"},"PostgreSQL documentation"),"."),(0,a.kt)("h2",{id:"querying-postgres"},"Querying Postgres"),(0,a.kt)("p",null,"PostgreSQL databases can be queried using the standard ",(0,a.kt)("a",{parentName:"p",href:"https://www.postgresql.org/docs/12/index.html"},"SQL syntax"),". All PostgreSQL queries return an array of objects where each object is a row returned by the query and each property in the object is a column."),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(16647).Z,width:"1449",height:"770"})),(0,a.kt)("h2",{id:"using-prepared-statement-beta"},"Using Prepared Statement (Beta)"),(0,a.kt)("p",null,"Normal query execution simply string concatenates the evaluated values of the javascript bindings to produce the final query. This opens up the possibility of SQL injection by merging untrusted user input with trusted data for execution. Using a prepared statement is one strategy for mitigating this risk."),(0,a.kt)("p",null,"Appsmith converts the user query into a parameterized one by replacing the bindings in the query with '?'. The payload is then inserted one by one ensuring that the bindings get properly escaped and sanitized before the query is sent to the database for execution."),(0,a.kt)("p",null,"Follow the guide on ",(0,a.kt)("a",{parentName:"p",href:"/learning-and-resources/how-to-guides/how-to-use-prepared-statements"},"how to use prepared statements")," for efficient and secured data transactions."),(0,a.kt)("figure",null,(0,a.kt)("object",{data:"https://www.youtube.com/embed/Q69wdQEQbbE?autoplay=0",width:"750px",height:"400px"}),(0,a.kt)("figcaption",{align:"center"},(0,a.kt)("i",null))),(0,a.kt)("h2",{id:"using-queries-in-applications"},"Using Queries in Applications"),(0,a.kt)("p",null,"Once you have successfully run a Query, you can use it in your application to"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/core-concepts/data-access-and-binding/displaying-data-read/"},"Display Data")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/core-concepts/data-access-and-binding/capturing-data-write/"},"Capture Data"))))}c.isMDXComponent=!0},16647:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/postgres-d83a808f658f9cbd664713987c4481a2.gif"}}]);