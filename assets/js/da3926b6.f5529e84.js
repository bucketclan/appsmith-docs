"use strict";(self.webpackChunkappsmith_docs=self.webpackChunkappsmith_docs||[]).push([[6128],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>h});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=r.createContext({}),p=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},d=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),c=p(a),h=n,g=c["".concat(l,".").concat(h)]||c[h]||u[h]||o;return a?r.createElement(g,s(s({ref:t},d),{},{components:a})):r.createElement(g,s({ref:t},d))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,s=new Array(o);s[0]=c;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:n,s[1]=i;for(var p=2;p<o;p++)s[p]=a[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,a)}c.displayName="MDXCreateElement"},23701:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var r=a(87462),n=(a(67294),a(3905));const o={sidebar_position:2},s="JS Errors",i={unversionedId:"help-and-support/troubleshooting-guide/js-errors",id:"help-and-support/troubleshooting-guide/js-errors",title:"JS Errors",description:"JS Errors",source:"@site/docs/help-and-support/troubleshooting-guide/js-errors.md",sourceDirName:"help-and-support/troubleshooting-guide",slug:"/help-and-support/troubleshooting-guide/js-errors",permalink:"/help-and-support/troubleshooting-guide/js-errors",draft:!1,editUrl:"https://github.com/bucketclan/appsmith-docs/blob/v1.5/website/docs/help-and-support/troubleshooting-guide/js-errors.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Google Sheet Errors",permalink:"/help-and-support/troubleshooting-guide/action-errors/google-sheets-plugin-errors"},next:{title:"Deployment Errors",permalink:"/help-and-support/troubleshooting-guide/deployment-errors"}},l={},p=[{value:"JS Errors",id:"js-errors-1",level:2},{value:"Data Type Mismatch",id:"data-type-mismatch",level:3},{value:"This value does not evaluate to type Array[Object]",id:"this-value-does-not-evaluate-to-type-arrayobject",level:4},{value:"<strong>This value does not evaluate to type Array[{ label: string, value: string }]</strong>",id:"this-value-does-not-evaluate-to-type-array-label-string-value-string-",level:4},{value:"<strong>The</strong> <strong>value does not evaluate to type Array[{x: string, y: number}]</strong>",id:"the-value-does-not-evaluate-to-type-arrayx-string-y-number",level:4},{value:"<strong>Value does not match ISO 8601 standard date string</strong>",id:"value-does-not-match-iso-8601-standard-date-string",level:4},{value:"This value does not evaluate to type boolean",id:"this-value-does-not-evaluate-to-type-boolean",level:4},{value:"Syntax Error",id:"syntax-error",level:3},{value:"Cyclic Dependency Error",id:"cyclic-dependency-error",level:3},{value:"Reactivity and Dependency Map",id:"reactivity-and-dependency-map",level:4},{value:"Debugging",id:"debugging",level:2},{value:"Description",id:"description",level:3},{value:"Syntax",id:"syntax",level:3},{value:"Examples",id:"examples",level:3},{value:"Using the debugger statement",id:"using-the-debugger-statement",level:4},{value:"Debugging Errors With Console.log()",id:"debugging-errors-with-consolelog",level:3}],d={toc:p};function u(e){let{components:t,...o}=e;return(0,n.kt)("wrapper",(0,r.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"js-errors"},"JS Errors"),(0,n.kt)("h2",{id:"js-errors-1"},"JS Errors"),(0,n.kt)("h3",{id:"data-type-mismatch"},"Data Type Mismatch"),(0,n.kt)("p",null,"This error occurs when the value in the property of the widget does not match the data type required by the property."),(0,n.kt)("h4",{id:"this-value-does-not-evaluate-to-type-arrayobject"},"This value does not evaluate to type Array","[","Object]"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Why do you see this error?")),(0,n.kt)("p",null,"While working with ",(0,n.kt)("a",{parentName:"p",href:"../../reference/widgets/table/"},"Tables")," or ",(0,n.kt)("a",{parentName:"p",href:"../../reference/widgets/list"},"Lists"),", you may encounter this error, as the data property expects an ",(0,n.kt)("a",{parentName:"p",href:"https://www.w3schools.com/js/js_arrays.asp"},"Array")," of objects which might not match the data type of the ",(0,n.kt)("a",{parentName:"p",href:"../../core-concepts/connecting-to-data-sources/authentication/"},"API")," response."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Solution:")),(0,n.kt)("p",null,"The solution to this is to bind the array inside the response object or transform the response object using javascript. Take an example response of the fetch users ",(0,n.kt)("a",{parentName:"p",href:"../../core-concepts/connecting-to-data-sources/authentication/"},"API")," as below. Binding it to a ",(0,n.kt)("a",{parentName:"p",href:"../../reference/widgets/table/"},"table")," directly would lead to an error."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},'{\n  "next": "https://mock-api.appsmith.com/users?page=2&pageSize=10",\n  "previous": null,\n  "users": [\n    {\n      "id": 1,\n      "name": "Barty Crouch",\n      "status": "APPROVED",\n      "avatar": "https://robohash.org/sednecessitatibuset.png?size=100x100&set=set1",\n      "email": "barty.crouch@gmail.com",\n    },\n    {\n      "id": 2,\n      "name": "Jenelle Kibbys",\n      "status": "APPROVED",\n      "avatar": "https://robohash.org/quiaasperiorespariatur.bmp?size=100x100&set=set1",\n      "email": "jkibby1@hp.com",\n    }\n  ]\n}\n')),(0,n.kt)("p",null,"To overcome this, we can bind the user's array of the response instead of the entire response object using javascript:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"{{ fetch_users.data.users }}\n")),(0,n.kt)("h4",{id:"this-value-does-not-evaluate-to-type-array-label-string-value-string-"},(0,n.kt)("strong",{parentName:"h4"},"This value does not evaluate to type Array","[","{ label: string, value: string }]")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Why do you see this error?")),(0,n.kt)("p",null,"While adding options to single-select or multi-select dropdowns, we might face a ",(0,n.kt)("strong",{parentName:"p"},"data mismatch error"),". In such cases, make sure the options property is an array of objects containing a label and value as strings."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Solution:")),(0,n.kt)("p",null,"In case the response does not contain label and value keys as below, we can map over the response to transform it using javascript"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"// invalid response of fetchColors API\n[\n  'Blue',\n  'Green',\n  'Red'\n]\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"// Transform Response\n{{ \n    fetchColors.data.map((color) =>{\n        return {\n            label: color,\n            value: color\n        }\n    })\n}}\n")),(0,n.kt)("h4",{id:"the-value-does-not-evaluate-to-type-arrayx-string-y-number"},(0,n.kt)("strong",{parentName:"h4"},"The")," ",(0,n.kt)("strong",{parentName:"h4"},"value does not evaluate to type Array","[","{x: string, y: number}]")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Why do you see this error?")),(0,n.kt)("p",null,"The below image shows that there is an error in the ",(0,n.kt)("inlineCode",{parentName:"p"},"Chart Data field")," of the ",(0,n.kt)("a",{parentName:"p",href:"../../reference/widgets/chart"},"Chart"),", giving us the same error. The Evaluated Value here indicates the current value of the field, and in the screenshot below, you can see that the current value is an array while the error indicates that it must be an array\\<x, y>."),(0,n.kt)("p",null,(0,n.kt)("img",{src:a(58088).Z,width:"1514",height:"1418"})),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Solution:")),(0,n.kt)("p",null,"In cases like these, you can use JavaScript to transform the data to the correct data type or access the correct data inside the object. The below code reduces the fetch","_","orders.data array to aggregate orders based on the date into an array \\<x, y> where x is the date of the order and y is the order amount"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"{{\n    _.values(fetch_orders.data.reduce((accumulator, order) => {\n        if(accumulator[order.date]) {\n            accumulator[order.date].y += order.orderAmount\n        } else {\n            accumulator[order.date] = { x:order.date, y: order.orderAmount  }; \n        }\n        return acc;\n    }, {}))\n}}\n")),(0,n.kt)("h4",{id:"value-does-not-match-iso-8601-standard-date-string"},(0,n.kt)("strong",{parentName:"h4"},"Value does not match ISO 8601 standard date string")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Why do you see this error?")),(0,n.kt)("p",null,"The date picker expects its default date in the standard",(0,n.kt)("a",{parentName:"p",href:"https://www.iso.org/iso-8601-date-and-time-format.html"}," ISO format"),". If the date you provided does not match this, you'll see this error."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Solution:")),(0,n.kt)("p",null,"To resolve this, you can transform the date string using moment.js."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"// Moment can be used to set the default date to the current date\n{{moment()}}\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'// Moment can parse your date format\n{{ moment("2021-07-26", "YYYY-MM-DD") }}\n')),(0,n.kt)("h4",{id:"this-value-does-not-evaluate-to-type-boolean"},"This value does not evaluate to type boolean"),(0,n.kt)("p",null,"This error typically occurs in the isVisible and ",(0,n.kt)("inlineCode",{parentName:"p"},"isDisabled")," properties and indicates that the value in the property does not match a boolean type. You can solve this by using a comparison operator."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'{{ Dropdown1.selectedOptionValue === "RED" }}\n')),(0,n.kt)("h3",{id:"syntax-error"},"Syntax Error"),(0,n.kt)("p",null,"This error occurs when there is invalid javascript inside the handlebars ",(0,n.kt)("inlineCode",{parentName:"p"},"{{ }}"),". The evaluated value of the field is displayed as undefined in this case. Double-check the number of braces in your code and consider re-writing your ",(0,n.kt)("a",{parentName:"p",href:"../../core-concepts/writing-code/#multi-line-javascript"},"JS as multi-line "),"code."),(0,n.kt)("p",null,"In the example below, fetch is not defined anywhere in the application"),(0,n.kt)("p",null,(0,n.kt)("img",{src:a(73667).Z,width:"1574",height:"1142"})),(0,n.kt)("h3",{id:"cyclic-dependency-error"},"Cyclic Dependency Error"),(0,n.kt)("p",null,"An app gets a cyclic dependency error when a node is directly or indirectly dependent on itself."),(0,n.kt)("h4",{id:"reactivity-and-dependency-map"},"Reactivity and Dependency Map"),(0,n.kt)("p",null,"In Appsmith, we define all user-editable fields as nodes, and to provide reactivity, a dependency map is created between these nodes to find the optimal evaluation order of these nodes. For eg: when you would refer to ",(0,n.kt)("inlineCode",{parentName:"p"},"{{Api1.data}}")," in a Table1's ",(0,n.kt)("inlineCode",{parentName:"p"},"tableData")," field, there is a dependency created between ",(0,n.kt)("inlineCode",{parentName:"p"},"Api1.data")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"Table1.tableData"),". So every time ",(0,n.kt)("inlineCode",{parentName:"p"},"Api1.data")," updates, we know ",(0,n.kt)("inlineCode",{parentName:"p"},"Table1.tableData")," needs to update as well."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"// Table1.tableData depends on Api1.data\nApi1.data -> Table1.tableData\n")),(0,n.kt)("p",null,"Similarly, all parent nodes are implicitly dependent on the child nodes to ensure updates are propagated up an entity object. A more straightforward way to understand this is that if a child node updates, the parent node, and its dependencies should also be updated."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"// Implicit. Parent depends on children\nApi1.data -> Api1\nTable1.tableData -> Table1\n\n// Explicit. Table1.tableData depends on Api1.data\nApi1.data -> Table1.tableData\n")),(0,n.kt)("p",null,"The most common scenario where a cycle occurs is when you would try to bind a node to its parent node. Since it is impossible to evaluate an app with a cyclic dependency, we will have to exit out and be in an error state till the cycle is resolved."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"// A cycle is formed\nTable1 -> Table1.tableData\nTable1.isVisible -> Table1\n")),(0,n.kt)("h2",{id:"debugging"},"Debugging"),(0,n.kt)("p",null,"For debugging JS logic inside widget actions, you can use a ",(0,n.kt)("a",{parentName:"p",href:"../../core-concepts/writing-code/javascript-editor-beta/#debugger-statements"},(0,n.kt)("inlineCode",{parentName:"a"},"debugger"))," statement."),(0,n.kt)("h3",{id:"description"},"Description"),(0,n.kt)("p",null,"The debugger statement invokes any available debugging functionality, such as setting a breakpoint. If no debugging functionality is available, this statement has no effect."),(0,n.kt)("h3",{id:"syntax"},"Syntax"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"debugger;\n")),(0,n.kt)("h3",{id:"examples"},"Examples"),(0,n.kt)("h4",{id:"using-the-debugger-statement"},"Using the debugger statement"),(0,n.kt)("p",null,"The following example shows code where a debugger statement has been inserted, to invoke a debugger (if one exists) when the function is called."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"function potentiallyBuggyCode() {\ndebugger;\n// do potentially buggy stuff to examine, step through, etc.\n}\n")),(0,n.kt)("p",null,"When the debugger is invoked, execution is paused at the debugger statement. It is like a breakpoint in the script source."),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"You need to have the browser console open to make the debugger work.")),(0,n.kt)("h3",{id:"debugging-errors-with-consolelog"},"Debugging Errors With Console.log()"),(0,n.kt)("p",null,"Aside from using the ",(0,n.kt)("inlineCode",{parentName:"p"},"debugger"),", it is also possible to use ",(0,n.kt)("inlineCode",{parentName:"p"},"console.log()")," to inspect various parts of your code. The video below illustrates how to do this:"),(0,n.kt)("figure",null,(0,n.kt)("object",{data:"https://www.youtube.com/embed/YLnvb9_k96s",width:"750px",height:"400px"}),")",(0,n.kt)("figcaption",{align:"center"},(0,n.kt)("i",null,"How to Debug"))))}u.isMDXComponent=!0},58088:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/chart_error-6d1cd8e5122d283d8dda7bd2f2f2b4e8.png"},73667:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/syntax_error-54ac606aa1209e4b16172160ec5daddf.png"}}]);